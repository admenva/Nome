/*! nome - v0.0.1 - 2013-11-13
 * Copyright (c) 2013 Ramon Lamana; Licensed MIT */
!function(a){var b,c;!function(){var a={},d={};b=function(b,c,d){a[b]={deps:c,callback:d}},c=function(b){if(d[b])return d[b];d[b]={};var e=a[b];if(!e)throw new Error("Module '"+b+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(c(g[j]));var l=h.apply(this,i);return d[b]=f||l}}(),b("device",["emitter","extend","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"],f=function(){d.apply(this),this.connected=!1};f.prototype=e(d.prototype,{get connected(){return this._connected},set connected(a){"undefined"==typeof this._connected&&(this._connected=a)},connect:function(a,b){var c;return b=b||"5555",a=a||"127.0.0.1",c=this._websocket=new WebSocket("ws://"+a+":"+b),c.onerror=function(){console.error("Could not connected to Monode server @ "+a+":"+b)},c.onopen=function(){this._connected=!0,console.log("Connected to Monode server @ "+a+":"+b),this.emit("connected")}.bind(this),c.onmessage=function(a){a=JSON.parse(a.data),a.event&&this.emit.apply(this,[a.event].concat(a.args))}.bind(this),this},led:function(a,b,c){this.connected?this._websocket.send(JSON.stringify({method:"led",args:[a,b,c]})):console.warn("led: Not connected to any Monode server")},_websocket:null}),c["default"]=f}),b("emitter",["exports"],function(a){"use strict";function b(){this._listeners={}}function c(a,b,c){return function(d){return(d.funct===a&&d.scope===b)===c}}function d(a,b,d,e){return a[b]?a[b].some(c(d,e,!0)):!1}b.prototype={on:function(a,b,c){var e=this._listeners;d(e,a,b,c)||(e[a]||(e[a]=[]),e[a].push({funct:b,scope:c}))},off:function(a,b,d){var e=this._listeners[a];e&&(this._listeners[a]=e.filter(c(b,d,!1)))},once:function(a,b,c){d(this._listeners,a,b,c)||this.on(a,function e(){this.off(a,e,this),b.apply(c,arguments)},this)},emit:function(a){var b=this._listeners[a];if(b){var c=Array.prototype.slice.call(arguments,1);b.forEach(function(a){a.funct.apply(a.scope,c)})}}},a["default"]=b}),b("extend",["exports"],function(a){"use strict";function b(){var a={};return Array.prototype.slice.call(arguments,0).forEach(function(b){"function"==typeof b&&(b=b.prototype),Object.keys(b).forEach(function(c){var d=Object.getOwnPropertyDescriptor(b,c);Object.defineProperty(a,c,d)})}),a}a["default"]=b}),b("nome",["device","exports"],function(a,b){"use strict";var c=a["default"];b.Device=c}),"function"==typeof b&&b.amd?b(nome):a.Nome=c("nome")}(this);